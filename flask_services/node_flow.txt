[{"id":"9090641e.a20dd","type":"ui_dropdown","z":"d17fe933.abea18","name":"datasets_dropdown","label":"Available Datasets","place":"Select Dataset","group":"29d402dc.1574d6","order":0,"width":0,"height":0,"passthru":false,"options":[{"label":"","value":"","type":"str"}],"payload":"","topic":"","x":980,"y":80,"wires":[["69f4a12f.13abd","1007e456.94c844"]]},{"id":"17916d61.cc9b93","type":"http request","z":"d17fe933.abea18","name":"get_datasets","method":"GET","ret":"obj","url":"http://localhost:6001/datasets/get_available","tls":"","x":419.99993896484375,"y":81.58332824707031,"wires":[["37e5ac7a.00eb9c","5b000088.bf107"]]},{"id":"37e5ac7a.00eb9c","type":"debug","z":"d17fe933.abea18","name":"datasets_json","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":433.77783203125,"y":126.25555419921875,"wires":[]},{"id":"f05851fe.e8713","type":"inject","z":"d17fe933.abea18","name":"update_available_datasets","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":152.00001525878906,"y":81.48332214355469,"wires":[["17916d61.cc9b93","dd1c3f6c.0f2ec"]]},{"id":"5b000088.bf107","type":"function","z":"d17fe933.abea18","name":"get_available_dataset_names","func":"//msg[\"available_datasets\"] = [{\"dataset 1\":\"dataset 1\"},{\"dataset 2\":\"dataset 2\"}];\n\nvar available_list = [{\"Select Dataset\":\"\"}];\n\nfor(var dataset_i = 0; dataset_i < msg.payload.datasets.length; ++dataset_i ){\n    var dataset = msg.payload.datasets[dataset_i];\n    var dataset_name = dataset[\"dataset_name\"];\n    // var folder = dataset[\"folder\"];\n\n    var dataset_value_dict = {};\n    dataset_value_dict[dataset_name] = dataset_name;\n    \n    available_list.push(dataset_value_dict);\n}\n\nmsg[\"available_dataset_names\"] = available_list;\nmsg[\"options\"] = msg[\"available_dataset_names\"];\n\nvar context = this.context.global;\ncontext.set('datasets',msg.payload.datasets);\ncontext.set('available_dataset_names',available_list);\n\nreturn msg;","outputs":1,"noerr":0,"x":713,"y":80.64996337890625,"wires":[["9090641e.a20dd","21690901.e47366"]]},{"id":"69f4a12f.13abd","type":"debug","z":"d17fe933.abea18","name":"dataset_selection","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":957.0333251953125,"y":140.76666259765625,"wires":[]},{"id":"e4e0e38c.881258","type":"ui_dropdown","z":"d17fe933.abea18","name":"models_dropdown","label":"Available Models","place":"Select Model","group":"8842da11.f9ac2","order":0,"width":0,"height":0,"passthru":false,"options":[{"label":"","value":"","type":"str"}],"payload":"","topic":"","x":952.5333557128906,"y":395.76666259765625,"wires":[["5595caba.ea1b7c","28d1036b.80bfdc"]]},{"id":"11dc2ae6.7bb2b5","type":"http request","z":"d17fe933.abea18","name":"get_models","method":"GET","ret":"obj","url":"http://localhost:6101/models/get_available_for_dataset/{{{selected_dataset}}}","tls":"","x":412.5332946777344,"y":397.34999084472656,"wires":[["43f0ec3e.0abf44","b82f6ae9.8439b"]]},{"id":"43f0ec3e.0abf44","type":"debug","z":"d17fe933.abea18","name":"models_json","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":388.5333251953125,"y":449.8000030517578,"wires":[]},{"id":"b82f6ae9.8439b","type":"function","z":"d17fe933.abea18","name":"get_available_model_names","func":"var available_list = [];\n\nfor(var i = 0; i < msg.payload.models.length; ++i ){\n    var model = msg.payload.models[i];\n    var model_name = model[\"model_name\"];\n    // var script_name = model[\"script_name\"];\n    // var class_name = model[\"class_name\"];\n    \n    var model_value_dict = {};\n    model_value_dict[model_name] = model_name;\n    \n    available_list.push(model_value_dict);\n}\n\n\nmsg[\"available_models\"] = available_list;\nmsg[\"options\"] = msg[\"available_models\"];\n\nvar context = this.context.global;\ncontext.set('models',msg.payload.models);\ncontext.set('available_model_names',available_list);\n\nreturn msg;","outputs":1,"noerr":0,"x":685.5333557128906,"y":396.4166259765625,"wires":[["e4e0e38c.881258"]]},{"id":"5595caba.ea1b7c","type":"debug","z":"d17fe933.abea18","name":"model_selection","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":929.5666809082031,"y":456.5333251953125,"wires":[]},{"id":"1007e456.94c844","type":"function","z":"d17fe933.abea18","name":"set_dataset_selected_property","func":"msg[\"selected_dataset\"] = msg.payload;\n\nvar context = this.context.global;\ncontext.set('selected_dataset',msg.payload);\n\nreturn msg;","outputs":1,"noerr":0,"x":331.61669921875,"y":262.1833190917969,"wires":[["11dc2ae6.7bb2b5","e5afc7cc.ad9268"]]},{"id":"21690901.e47366","type":"debug","z":"d17fe933.abea18","name":"available_datasets","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":699.4222412109375,"y":124.5999755859375,"wires":[]},{"id":"27cf6803.6d932","type":"ui_dropdown","z":"d17fe933.abea18","name":"explanations_dropdown","label":"Available Explanations","place":"Select Explanations","group":"dda7dd6.d06ca2","order":0,"width":0,"height":0,"passthru":false,"options":[{"label":"","value":"","type":"str"}],"payload":"","topic":"","x":1023.6722412109375,"y":728.7666625976562,"wires":[["bc89b07.b46e25","9cfb46c5.d81418"]]},{"id":"8a37ed6a.ad841","type":"http request","z":"d17fe933.abea18","name":"get_explanations","method":"GET","ret":"obj","url":"http://localhost:6201/explanations/get_available_for_filters/{{{selected_dataset}}},{{{selected_model}}}","tls":"","x":415.8943786621094,"y":731.4610748291016,"wires":[["5f0a3e13.e1bee","635342ff.ddc00c"]]},{"id":"5f0a3e13.e1bee","type":"debug","z":"d17fe933.abea18","name":"explanations_json","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":391.8944091796875,"y":783.9110870361328,"wires":[]},{"id":"635342ff.ddc00c","type":"function","z":"d17fe933.abea18","name":"get_available_explanation_names","func":"var available_list = [];\n\nfor(var i = 0; i < msg.payload.explanations.length; ++i ){\n    var explanation = msg.payload.explanations[i];\n    var explanation_name = explanation[\"explanation_name\"];\n     \n    var value_dict = {};\n    value_dict[explanation_name] = explanation_name;\n    \n    available_list.push(value_dict);\n}\n\n\nmsg[\"available_explanations\"] = available_list;\nmsg[\"options\"] = msg[\"available_explanations\"];\n\n\nvar context = this.context.global;\ncontext.set('explanations',msg.payload.explanations);\ncontext.set('available_explanation_names',available_list);\n\nreturn msg;","outputs":1,"noerr":0,"x":688.8944396972656,"y":730.5277099609375,"wires":[["27cf6803.6d932"]]},{"id":"bc89b07.b46e25","type":"debug","z":"d17fe933.abea18","name":"explanation_selection","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":1000.70556640625,"y":789.5333251953125,"wires":[]},{"id":"28d1036b.80bfdc","type":"function","z":"d17fe933.abea18","name":"set_model_selected_property","func":"msg[\"selected_model\"] = msg.payload;\n\nvar context = this.context.global;\ncontext.set('selected_model',msg.payload);\n\nmsg[\"selected_dataset\"] = context.get('selected_dataset');\n\nreturn msg;","outputs":1,"noerr":0,"x":314.977783203125,"y":596.2944030761719,"wires":[["8a37ed6a.ad841","9a55d6dd.cbbad","b3a5c9ae.8a0448"]]},{"id":"9a55d6dd.cbbad","type":"debug","z":"d17fe933.abea18","name":"msg_before_explanations","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":368.3111029730903,"y":652.3777737087673,"wires":[]},{"id":"9cfb46c5.d81418","type":"function","z":"d17fe933.abea18","name":"set_explanation_selected_property","func":"msg[\"selected_explanation\"] = msg.payload;\n\nvar context = this.context.global;\ncontext.set('selected_explanation',msg.payload);\n\nmsg[\"selected_dataset\"] = context.get('selected_dataset');\nmsg[\"selected_model\"] = context.get('selected_model');\n\n\nreturn msg;","outputs":1,"noerr":0,"x":326.64447021484375,"y":929.8777465820312,"wires":[["fdecb133.bbc2c8"]]},{"id":"a0ce31fa.4349d8","type":"ui_text","z":"d17fe933.abea18","group":"29d402dc.1574d6","order":0,"width":"16","height":"1","name":"dataset_name_display","label":"Dataset Name:","format":"{{msg.dataset_json[\"dataset_name\"]}}","layout":"row-spread","x":1623.5493621826172,"y":179.0841827392578,"wires":[]},{"id":"e5afc7cc.ad9268","type":"function","z":"d17fe933.abea18","name":"output_dataset_json","func":"var context = this.context.global;\nvar dataset_name = context.get('selected_dataset');\n\nvar datasets = context.get('datasets');\n\nvar dataset_json = datasets.filter(dataset => dataset[\"dataset_name\"] == dataset_name)[0];\nmsg[\"dataset_json\"] = dataset_json;\ncontext.set('selected_dataset_json',dataset_json);\n\nreturn msg;","outputs":1,"noerr":0,"x":1046.4063568115234,"y":251.9413299560547,"wires":[["a0ce31fa.4349d8","42986e52.f1975","74cbd05a.5dc93","36dc628e.b6db8e","2f819f0d.fc3b08"]]},{"id":"42986e52.f1975","type":"ui_text","z":"d17fe933.abea18","group":"29d402dc.1574d6","order":0,"width":"16","height":"1","name":"dataset_image_x_display","label":"Image X:","format":"{{msg.dataset_json[\"image_x\"]}}","layout":"row-spread","x":1632.8348846435547,"y":239.0841522216797,"wires":[]},{"id":"74cbd05a.5dc93","type":"ui_text","z":"d17fe933.abea18","group":"29d402dc.1574d6","order":0,"width":"16","height":"1","name":"dataset_image_y_display","label":"Image Y:","format":"{{msg.dataset_json[\"image_y\"]}}","layout":"row-spread","x":1629.9778289794922,"y":286.22706604003906,"wires":[]},{"id":"dd1c3f6c.0f2ec","type":"function","z":"d17fe933.abea18","name":"reset_value","func":"msg[\"payload\"] = \"\";\nreturn msg;","outputs":1,"noerr":0,"x":1466.406478881836,"y":9.084152221679688,"wires":[["a0ce31fa.4349d8","42986e52.f1975","74cbd05a.5dc93","36dc628e.b6db8e","2f819f0d.fc3b08","810858ed.b01ea8","ed5ce4e5.f4d9","e105c6cc.81767","82e5bbcb.ba3c88","376cd6e9.e10312","341b3aa9.10ed76","dff8f391.b3dc8"]]},{"id":"36dc628e.b6db8e","type":"ui_text","z":"d17fe933.abea18","group":"29d402dc.1574d6","order":0,"width":"16","height":"1","name":"dataset_image_channels_display","label":"Image Channels:","format":"{{msg.dataset_json[\"image_channels\"]}}","layout":"row-spread","x":1668.5492401123047,"y":341.94129943847656,"wires":[]},{"id":"2f819f0d.fc3b08","type":"ui_text","z":"d17fe933.abea18","group":"29d402dc.1574d6","order":0,"width":"16","height":"1","name":"dataset_description_display","label":"Task Description:","format":"{{msg.dataset_json[\"description\"]}}","layout":"row-spread","x":1654.2635955810547,"y":403.36988830566406,"wires":[]},{"id":"b3a5c9ae.8a0448","type":"function","z":"d17fe933.abea18","name":"output_model_json","func":"var context = this.context.global;\nvar model_name = context.get('selected_model');\n\nvar models = context.get('models');\n\nvar model_json = models.filter(model => model[\"model_name\"] == model_name)[0];\nmsg[\"model_json\"] = model_json;\ncontext.set('selected_model_json',model_json);\n\nreturn msg;","outputs":1,"noerr":0,"x":942.8349456787109,"y":594.7984466552734,"wires":[["810858ed.b01ea8","ed5ce4e5.f4d9","e105c6cc.81767","82e5bbcb.ba3c88"]]},{"id":"fdecb133.bbc2c8","type":"function","z":"d17fe933.abea18","name":"output_explanation_json","func":"var context = this.context.global;\nvar explanation_name = context.get('selected_explanation');\n\nvar explanations = context.get('explanations');\n\nvar explanation_json = explanations.filter(explanation => explanation[\"explanation_name\"] == explanation_name)[0];\nmsg[\"explanation_json\"] = explanation_json;\ncontext.set('selected_explanation_json',explanation_json);\n\nreturn msg;","outputs":1,"noerr":0,"x":969.9778900146484,"y":921.9413299560547,"wires":[["376cd6e9.e10312","dff8f391.b3dc8","341b3aa9.10ed76"]]},{"id":"810858ed.b01ea8","type":"ui_text","z":"d17fe933.abea18","group":"8842da11.f9ac2","order":0,"width":"16","height":"1","name":"model_name_display","label":"Model Name:","format":"{{msg.model_json[\"model_name\"]}}","layout":"row-spread","x":1647.1207122802734,"y":570.5127410888672,"wires":[]},{"id":"ed5ce4e5.f4d9","type":"ui_text","z":"d17fe933.abea18","group":"8842da11.f9ac2","order":0,"width":"16","height":"1","name":"model_accuracy_display","label":"Model Accuracy on Dataset (N/A):","format":"{{msg.model_accuracy}}","layout":"row-spread","x":1656.406234741211,"y":630.5127105712891,"wires":[]},{"id":"e105c6cc.81767","type":"ui_text","z":"d17fe933.abea18","group":"8842da11.f9ac2","order":0,"width":"16","height":"1","name":"model_structure_display","label":"Model Structure (N/A):","format":"{{msg.model_structure}}","layout":"row-spread","x":1653.5491790771484,"y":677.6556243896484,"wires":[]},{"id":"82e5bbcb.ba3c88","type":"ui_text","z":"d17fe933.abea18","group":"8842da11.f9ac2","order":0,"width":"16","height":"1","name":"model_description_display","label":"Model Description:","format":"{{msg.model_json[\"description\"]}}","layout":"row-spread","x":1664.9778900146484,"y":737.6555633544922,"wires":[]},{"id":"376cd6e9.e10312","type":"ui_text","z":"d17fe933.abea18","group":"dda7dd6.d06ca2","order":0,"width":"16","height":"1","name":"explanation_name_display","label":"Explanation Name:","format":"{{msg.explanation_json[\"explanation_name\"]}}","layout":"row-spread","x":1677.1207122802734,"y":921.9413299560547,"wires":[]},{"id":"dff8f391.b3dc8","type":"ui_text","z":"d17fe933.abea18","group":"dda7dd6.d06ca2","order":0,"width":"16","height":"1","name":"explanation_description_display","label":"Explanation Description:","format":"{{msg.explanation_json[\"description\"]}}","layout":"row-spread","x":1687.8350677490234,"y":1029.0841522216797,"wires":[]},{"id":"341b3aa9.10ed76","type":"ui_text","z":"d17fe933.abea18","group":"dda7dd6.d06ca2","order":0,"width":"16","height":"1","name":"explanation_modality_display","label":"Explanation Modality:","format":"{{msg.explanation_json[\"modality\"]}}","layout":"row-spread","x":1684.263656616211,"y":980.5127410888672,"wires":[]},{"id":"8c3af99a.acf468","type":"ui_button","z":"d17fe933.abea18","name":"run_new_example_button","group":"80cb837c.62f9a8","order":0,"width":"16","height":"1","passthru":false,"label":"Run New Example","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":110,"y":1300,"wires":[["f689a916.7f18c","b4ec9504.892048","4b9716cf.207b1"]]},{"id":"2b904c87.ec7784","type":"ui_template","z":"d17fe933.abea18","group":"85e71fc0.5c199","name":"task_input_display","order":0,"width":"16","height":"6","format":"<div>\n    <p>Image Name:{{msg.payload.image_name}}</p>\n    <p>Ground Truth Label:{{msg.payload.ground_truth}}</p>\n    <p>Input Image:</p>\n    <img style=\"width:25%\" src=\"data:image/jpg;base64, {{msg.payload.input}}\" alt=\"Task Input Image\" />\n</div> ","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":1650,"y":1280,"wires":[[]]},{"id":"711024be.8aa14c","type":"ui_button","z":"d17fe933.abea18","name":"confirm_dataset_button","group":"29d402dc.1574d6","order":0,"width":"16","height":"1","passthru":false,"label":"Confirm Dataset","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1657.239242553711,"y":470.03648376464844,"wires":[[]]},{"id":"ffa73495.5a40b","type":"ui_button","z":"d17fe933.abea18","name":"confirm_model_button","group":"8842da11.f9ac2","order":0,"width":"16","height":"1","passthru":false,"label":"Confirm Model","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1657.596908569336,"y":807.7746429443359,"wires":[[]]},{"id":"3259ca9e.424dae","type":"ui_button","z":"d17fe933.abea18","name":"confirm_model_button","group":"dda7dd6.d06ca2","order":0,"width":"16","height":"1","passthru":false,"label":"Confirm Model","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1656.1683197021484,"y":1097.4175262451172,"wires":[[]]},{"id":"8b558c82.57add","type":"ui_text","z":"d17fe933.abea18","group":"ba7f8639.b9c78","order":0,"width":"16","height":"1","name":"task_output_display","label":"Task Output","format":"{{msg.payload}}","layout":"row-spread","x":1657.1427001953125,"y":1408.3330383300781,"wires":[]},{"id":"3b6ebce.5d20244","type":"ui_template","z":"d17fe933.abea18","group":"d240d5e3.d12df","name":"explanation_display","order":0,"width":"16","height":"6","format":"<div>\n    <p>Prediction During Explanation:{{msg.payload.prediction}}</p>\n    <p>Explanation Text:{{msg.payload.explanation_text}}</p>\n    <p>Explanation Image:</p>\n    <img style=\"width:25%\" src=\"data:image/jpg;base64, {{msg.payload.explanation_image}}\" alt=\"Explanation Image\" />\n</div> ","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":1657.5,"y":1610.4761352539062,"wires":[[]]},{"id":"366f59e9.3087f6","type":"function","z":"d17fe933.abea18","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":1257.358871459961,"y":1713.488510131836,"wires":[["3b6ebce.5d20244"]]},{"id":"5a0a6ae9.ab33bc","type":"http request","z":"d17fe933.abea18","name":"fetch_dataset_test_input","method":"GET","ret":"obj","url":"http://localhost:6001/datasets/test_image/{{{selected_dataset}}}","tls":"","x":870,"y":1380,"wires":[["460709b4.469f9","9e1291a1.a471d"]]},{"id":"f689a916.7f18c","type":"function","z":"d17fe933.abea18","name":"get_selected_dataset_name","func":"\nvar context = this.context.global;\nmsg[\"selected_dataset\"] = context.get('selected_dataset');\n\nreturn msg;","outputs":1,"noerr":0,"x":440,"y":1380,"wires":[["5a0a6ae9.ab33bc"]]},{"id":"460709b4.469f9","type":"debug","z":"d17fe933.abea18","name":"input_data","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":1080.0970306396484,"y":1428.2507781982422,"wires":[]},{"id":"d3d7980f.cdcb9","type":"function","z":"d17fe933.abea18","name":"get_selected_model_name_and_dataset_json","func":"\nvar context = this.context.global;\nmsg.payload= {};\nmsg.payload[\"selected_model\"] = context.get('selected_model');\nmsg.payload[\"selected_dataset_json\"] = context.get('selected_dataset_json');\nmsg.payload[\"input\"] = context.get('input');\nreturn msg;","outputs":1,"noerr":0,"x":286.2872619628906,"y":1502.4174041748047,"wires":[["ba794e34.1dd","b3c9c4ef.467c5"]]},{"id":"287d0f17.51a668","type":"http request","z":"d17fe933.abea18","name":"fetch_predict","method":"POST","ret":"obj","url":"http://localhost:6101/models/predict","tls":"","x":1086.287094116211,"y":1515.6314544677734,"wires":[["5bd71d2d.72a7d4"]]},{"id":"5bd71d2d.72a7d4","type":"function","z":"d17fe933.abea18","name":"prediction_as_payload","func":"msg.payload = msg.payload[\"prediction\"];\nreturn msg;","outputs":1,"noerr":0,"x":1299.1446380615234,"y":1514.203140258789,"wires":[["8b558c82.57add","db9c3c31.ab0e08"]]},{"id":"ba794e34.1dd","type":"debug","z":"d17fe933.abea18","name":"predict_request_body","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":264.38258361816406,"y":1552.5362396240234,"wires":[]},{"id":"b3c9c4ef.467c5","type":"json","z":"d17fe933.abea18","name":"convert_dataset_json_tostring","property":"payload.selected_dataset_json","action":"str","pretty":false,"x":630,"y":1500,"wires":[["e214a60d.46eba8","b3fab36e.c7e6d8"]]},{"id":"e214a60d.46eba8","type":"debug","z":"d17fe933.abea18","name":"JSONpredict_request_body","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":616.2872772216797,"y":1553.488998413086,"wires":[]},{"id":"b3fab36e.c7e6d8","type":"function","z":"d17fe933.abea18","name":"add_request_headers","func":"//msg.headers = {'content-type':'x-www-form-urlencoded'};\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":1500,"wires":[["287d0f17.51a668"]]},{"id":"db9c3c31.ab0e08","type":"function","z":"d17fe933.abea18","name":"get_explanation_request_data","func":"var context = this.context.global;\nmsg.payload = {};\nmsg.payload[\"input\"] = context.get('input');\nmsg.payload[\"selected_dataset_json\"] = context.get('selected_dataset_json');\nmsg.payload[\"selected_model_json\"] = context.get('selected_model_json');\nmsg.payload[\"selected_explanation_json\"] = context.get('selected_explanation_json');\n\nreturn msg;","outputs":1,"noerr":0,"x":237.7158966064453,"y":1714.5604095458984,"wires":[["6ec615b2.1f953c","d7fddd83.e7bad8"]]},{"id":"6ec615b2.1f953c","type":"json","z":"d17fe933.abea18","name":"convert_dataset_json_tostring","property":"payload.selected_dataset_json","action":"str","pretty":false,"x":612.0016326904297,"y":1713.1318817138672,"wires":[["7a4ca309.548bdc"]]},{"id":"7a4ca309.548bdc","type":"json","z":"d17fe933.abea18","name":"convert_model_json_tostring","property":"payload.selected_model_json","action":"str","pretty":false,"x":612.0016326904297,"y":1758.8459930419922,"wires":[["21d0ec34.302124"]]},{"id":"22e10630.102212","type":"function","z":"d17fe933.abea18","name":"add_request_headers","func":"//msg.headers = {'content-type':'x-www-form-urlencoded'};\nreturn msg;","outputs":1,"noerr":0,"x":877.7159271240234,"y":1714.5603485107422,"wires":[["2cddb326.d62534"]]},{"id":"2cddb326.d62534","type":"http request","z":"d17fe933.abea18","name":"fetch_predict","method":"POST","ret":"obj","url":"http://localhost:6201/explanations/explain","tls":"","x":1079.144515991211,"y":1713.1318817138672,"wires":[["366f59e9.3087f6"]]},{"id":"21d0ec34.302124","type":"json","z":"d17fe933.abea18","name":"convert_explanation_json_tostring","property":"payload.selected_explanation_json","action":"str","pretty":false,"x":627.7158660888672,"y":1810.2747039794922,"wires":[["22e10630.102212","a6fc5a52.b44138"]]},{"id":"9e1291a1.a471d","type":"function","z":"d17fe933.abea18","name":"store_input_image","func":"\nvar context = this.context.global;\ncontext.set('input',msg.payload[\"input\"]);\nreturn msg;","outputs":1,"noerr":0,"x":1307.7159271240234,"y":1383.8460540771484,"wires":[["2b904c87.ec7784","d3d7980f.cdcb9"]]},{"id":"a6fc5a52.b44138","type":"debug","z":"d17fe933.abea18","name":"JSONexplanation_request_body","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":620.5730438232422,"y":1877.4174041748047,"wires":[]},{"id":"d7fddd83.e7bad8","type":"debug","z":"d17fe933.abea18","name":"explanation_request_body","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":229.14439392089844,"y":1794.5604705810547,"wires":[]},{"id":"f717e34c.b99e38","type":"ui_button","z":"d17fe933.abea18","name":"run_same_example_button","group":"80cb837c.62f9a8","order":0,"width":"16","height":"1","passthru":false,"label":"Run Same Example","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":120,"y":1260,"wires":[["d3d7980f.cdcb9","b4ec9504.892048","4b9716cf.207b1"]]},{"id":"4b9716cf.207b1","type":"function","z":"d17fe933.abea18","name":"reset_value","func":"msg[\"payload\"] = \"\";\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":1280,"wires":[["8b558c82.57add"]]},{"id":"b4ec9504.892048","type":"function","z":"d17fe933.abea18","name":"reset_value","func":"msg[\"payload\"] = {};\n    msg.payload[\"prediction\"] =\"\";\n    msg.payload[\"explanation_text\"] =\"\";\n    msg.payload[\"explanation_image\"] =\"\";\n \nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":1320,"wires":[["3b6ebce.5d20244"]]},{"id":"dd51047.a013978","type":"ui_text_input","z":"d17fe933.abea18","name":"specific_input_entry","label":"Example Name (from current dataset only):","group":"80cb837c.62f9a8","order":0,"width":"12","height":"1","passthru":false,"mode":"text","delay":"300","topic":"","x":180,"y":1120,"wires":[["c8978641.ac74b8","e46ce957.00737"]]},{"id":"6568e39.2cdc99c","type":"ui_button","z":"d17fe933.abea18","name":"run_specific_button","group":"80cb837c.62f9a8","order":0,"width":"4","height":"1","passthru":false,"label":"Run Specific Example","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":170,"y":1180,"wires":[["745bde24.a6b668"]]},{"id":"c8978641.ac74b8","type":"function","z":"d17fe933.abea18","name":"store_specific_input_name","func":"\nvar context = this.context.global;\ncontext.set('specific_input_name',msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":1120,"wires":[[]]},{"id":"68893b55.09f3a4","type":"http request","z":"d17fe933.abea18","name":"fetch_specific_test_input","method":"GET","ret":"obj","url":"http://localhost:6001/datasets/test_image/specific?dataset={{{selected_dataset}}}&image_name={{{specific_input_name}}}","tls":"","x":810,"y":1180,"wires":[["9e1291a1.a471d"]]},{"id":"745bde24.a6b668","type":"function","z":"d17fe933.abea18","name":"get_specific_input_and_dataset_name","func":"\nvar context = this.context.global;\nmsg[\"selected_dataset\"] = context.get('selected_dataset');\nmsg[\"specific_input_name\"] = context.get('specific_input_name');\n\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":1180,"wires":[["68893b55.09f3a4"]]},{"id":"e46ce957.00737","type":"debug","z":"d17fe933.abea18","name":"specific_file_input","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":480,"y":1080,"wires":[]},{"id":"29d402dc.1574d6","type":"ui_group","z":"","name":"Datasets","tab":"f3a78505.7b19b","order":1,"disp":true,"width":"16"},{"id":"8842da11.f9ac2","type":"ui_group","z":"","name":"Task Models","tab":"f3a78505.7b19b","order":2,"disp":true,"width":"16"},{"id":"dda7dd6.d06ca2","type":"ui_group","z":"","name":"Explanation Techniques","tab":"f3a78505.7b19b","order":3,"disp":true,"width":"16"},{"id":"80cb837c.62f9a8","type":"ui_group","z":"","name":"Run Example","tab":"f3a78505.7b19b","order":4,"disp":true,"width":"16"},{"id":"85e71fc0.5c199","type":"ui_group","z":"","name":"Input","tab":"f3a78505.7b19b","order":5,"disp":true,"width":"16"},{"id":"ba7f8639.b9c78","type":"ui_group","z":"","name":"Task Output","tab":"f3a78505.7b19b","order":6,"disp":true,"width":"16"},{"id":"d240d5e3.d12df","type":"ui_group","z":"","name":"Explanation Output","tab":"f3a78505.7b19b","order":7,"disp":true,"width":"16"},{"id":"f3a78505.7b19b","type":"ui_tab","z":"","name":"Interpretability Technique Dashboard","icon":"dashboard","order":1}]